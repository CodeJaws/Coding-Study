# 그리디

그리디 알고리즘(탐욕법, Greedy Algorithm) 이란 최적의 값을 구해야 하는 상황에서 사용되는 근시안적인 방법론으로 **‘각 단계에서 최적이라고 생각되는 것을 선택’** 해 나가는 방식으로 진행하여 최종적인 해답에 도달하는 알고리즘입니다.
쉽게 말하면 선택의 순간마다 당장 눈앞에 보이는 최적의 상황만을 쫓아 최종적인 해답에 도달하는 방법입니다.
이때, 항상 최적의 값을 보장하는것이 아니라 최적의 값의 ‘근사한 값’을 목표로 하고 있습니다.

## 조건

그리디 알고리즘을 적용하려면 문제가 다음 2가지 조건을 성립하여야 합니다.
**1. 탐욕적 선택 속성(Greedy Choice Property)** : 각 단계에서 ‘최선의 선택’을 했을 때 전체 문제에 대한 최적해를 구할 수 있는 경우를 말합니다. 즉, 각 단계에서 가장 이상적인 선택을 하는 것이 전체적으로 최적의 결과를 가져온다는 것입니다.
?!위에서는 그리디 알고리즘을 사용해 결과 도출 시 최적해가 무조건 나오지 않는다고 하지 않았나??
그리디 알고리즘을 사용하면 무조건 최적해가 나오는 것은 아닙니다.
하지만 그리디 알고리즘을 사용해 푸는 문제가 나왔을 때 이 조건이 만족되는가? 를 생각해 충족되면 그리디 알고리즘을 사용하는 것입니다.
즉, 그리디 알고리즘을 사용하면 최적해가 나올 수 있는 문제이여야 합니다.

**2. 최적 부분 구조(Optimal Substructure)** : 문제에 대한 최종 해결 방법은 부분 문제에 대한 최적 문제 해결 방법으로 구성됩니다. 이 말은 전체 문제의 안에는 여러 단계가 존재하고, 이 여러 단계 내의 하나 하나의 단계에 대해 최적해가 도출되어야 한다는 것입니다.

## 단계

**1단계: 선택 절차(Selection Procedure)** : 이 단계에서는 ‘현재 상태’에서 ‘최적인 선택’을 합니다. 이 선택은 이후에는 바뀌지 않습니다.

**2단계 : 적절성 검사(Feasibility Check)** : 이 단계에서는 선택한 항목이 ‘문제의 조건’을 만족시키는지 확인합니다. 조건을 만족시키지 않으면 해당 항목은 제외됩니다.

**3단계: 해답 검사(Solution Check)** : 이 단계에서는 모든 선택이 완료되면, ‘최종 선택’이 ‘문제의 조건을 만족’시키는지 확인합니다. 조건을 만족시키면 해답으로 인정됩니다.

### 문제 예시

풀 수 있는 예
**거스름돈**

```
당신은 음식점의 계산을 도와주는 점원이다. 카운터에는 거스름돈으로 사용할 500원, 100원, 50원, 10원 동전이 무한개 존재하다. 손님에게 거슬러 줘야 할 돈이 N원일 때 거슬러주어야 할 동전의 최소 개수를 구하라. 단, 거슬러 줘야 할 돈 N은 항상 10의 배수다.
```

이 문제에서 우리가 생각할 수 있는 것은 '가장 큰 단위의 돈부터 생각하자' 입니다.
10원만 사용해서 거슬러 줄 수도 있고, 다양한 동전을 사용하여 거슬러 줄 수 있지만, 조건에서는 '최소 개수'를 구하는 문제이므로 가장 큰 단위부터 거슬러주고 나머지를 그 다음 단위의 화폐로 거슬러 주는 것 이라는 해결 방법을 떠올릴 수 있습니다.

풀 수 없는 예
**트리 구조에서 가장 큰 합을 구하기**
<img src="./img/그리디 안되는 예.PNG" alt="그리디 안되는 예">

루트 노드인 5부터 시작해서 탐색하는 자식 노드의 숫자들을 더하고
결과적으로 가장 큰 합을 만들기 위해서 그리디 알고리즘으로 접근한다고 가정합니다.
그렇다면 위 그림처럼 각 level에서 큰 값을 취해 5 -> 10 -> 4를 결과로 내게 될 것입니다.

하지만 5 -> 7 -> 9를 따라가면 더 큰 값을 output으로 낼 수 있지만
그리디 알고리즘으로는 50 노드를 찾아갈 수 없습니다.
level2노드에서 7과 10중 그리디 알고리즘 방식을 택한다면 7을 택하지 않을 것이기 때문입니다.
해당 문제는 이진트리를 정렬한다든지 작업을 해주지 않는 이상 그리디로 풀 수 없습니다.

따라서 그리디 알고리즘의 두 가지의 조건을 만족하는 “특정한 상황” 이 아니면 탐욕 알고리즘은 최적의 해를 보장하지 못합니다.

<hr/>

**참고링크**

- https://hanamon.kr/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-%ED%83%90%EC%9A%95%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98-greedy-algorithm/
- https://adjh54.tistory.com/212
- https://velog.io/@contea95/%ED%83%90%EC%9A%95%EB%B2%95%EA%B7%B8%EB%A6%AC%EB%94%94-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98
- https://hongcana.tistory.com/41
